<!DOCTYPE html>
<!-- saved from url=(0097)http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/ -->
<html lang="en-US" style="" class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
				    
				    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
            				    <meta name="viewport" content="width=device-width, initial-scale=1.0">
				    <link rel="profile" href="http://gmpg.org/xfn/11">
				    <link rel="pingback" href="http://www.cerebralmeltdown.com/xmlrpc.php">

				   <!-- html5shiv for IE8 and less  -->
				    <!--[if lt IE 9]>
				      <script src="http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/js/html5.js"></script>
				    <![endif]-->
				    <title>Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown</title>
<link rel="alternate" type="application/rss+xml" title="Cerebral Meltdown » Feed" href="http://www.cerebralmeltdown.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Cerebral Meltdown » Comments Feed" href="http://www.cerebralmeltdown.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Cerebral Meltdown » Ruby Code for Calculating the Sun’s Position Comments Feed" href="http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/feed/">
		<script src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ca-pub-0904105966669212.js.download"></script><script src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ca-pub-0904105966669212.js.download"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.cerebralmeltdown.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.8"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/wp-emoji-release.min.js.download" type="text/javascript"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="tc-gfonts-css" href="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/css" type="text/css" media="all">
<link rel="stylesheet" id="catablog-stylesheet-css" href="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/catablog.css" type="text/css" media="all">
<link rel="stylesheet" id="customizr-common-css" href="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/tc_common.min.css" type="text/css" media="all">
<link rel="stylesheet" id="customizr-skin-css" href="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/green2.min.css" type="text/css" media="all">
<style id="customizr-skin-inline-css" type="text/css">
        @font-face {
          font-family: 'FontAwesome';
          src:url('http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/fontawesome-webfont.eot');
          src:url('http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/fontawesome-webfont.eot?#iefix') format('embedded-opentype'),
              url('http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/fontawesome-webfont.woff2') format('woff2'),
              url('http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/fontawesome-webfont.woff') format('woff'),
              url('http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/fontawesome-webfont.ttf') format('truetype'),
              url('http://www.cerebralmeltdown.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/fontawesome-webfont.svg#fontawesomeregular') format('svg');
        }        
        

                .site-title,.site-description,h1,h2,h3,.tc-dropcap {
                  font-family : 'Fjalla One';
                  font-weight : 400;
                }

                body,.navbar .nav>li>a {
                  font-family : 'Cantarell';
                  font-weight : 400;
                }

          body,.navbar .nav>li>a {
            font-size : 15px;
            line-height : 20px;
          }

.sticky-enabled .tc-shrink-on .site-logo img {
    					height:30px!important;width:auto!important
    				}

    				.sticky-enabled .tc-shrink-on .brand .site-title {
    					font-size:0.6em;opacity:0.8;line-height:1.2em
    				}

</style>
<link rel="stylesheet" id="customizr-style-css" href="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="fancyboxcss-css" href="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/jquery.fancybox-1.3.4.min.css" type="text/css" media="all">
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/jquery.js.download"></script><script>jQueryWP = jQuery;</script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/jquery-migrate.min.js.download"></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/modernizr.min.js.download"></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/jquery.fancybox-1.3.4.min.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var TCParams = {"_disabled":[],"FancyBoxState":"1","FancyBoxAutoscale":"1","SliderName":"","SliderDelay":"","SliderHover":"1","centerSliderImg":"1","SmoothScroll":{"Enabled":true,"Options":{"touchpadSupport":false}},"anchorSmoothScroll":"linear","anchorSmoothScrollExclude":{"simple":["[class*=edd]",".tc-carousel-control",".carousel-control","[data-toggle=\"modal\"]","[data-toggle=\"dropdown\"]","[data-toggle=\"tooltip\"]","[data-toggle=\"popover\"]","[data-toggle=\"collapse\"]","[data-toggle=\"tab\"]","[class*=upme]","[class*=um-]"],"deep":{"classes":[],"ids":[]}},"ReorderBlocks":"1","centerAllImg":"1","HasComments":"","LeftSidebarClass":".span3.left.tc-sidebar","RightSidebarClass":".span3.right.tc-sidebar","LoadModernizr":"1","stickyCustomOffset":{"_initial":0,"_scrolling":0,"options":{"_static":true,"_element":""}},"stickyHeader":"1","dropdowntoViewport":"","timerOnScrollAllBrowsers":"1","extLinksStyle":"","extLinksTargetExt":"","extLinksSkipSelectors":{"classes":["btn","button"],"ids":[]},"dropcapEnabled":"","dropcapWhere":{"post":"","page":""},"dropcapMinWords":"50","dropcapSkipSelectors":{"tags":["IMG","IFRAME","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","UL","OL"],"classes":["btn"],"id":[]},"imgSmartLoadEnabled":"","imgSmartLoadOpts":{"parentSelectors":[".article-container",".__before_main_wrapper",".widget-front"],"opts":{"excludeImg":[".tc-holder-img"]}},"goldenRatio":"1.618","gridGoldenRatioLimit":"350","isSecondMenuEnabled":"","secondMenuRespSet":"in-sn-before"};
/* ]]> */
</script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/tc-scripts.min.js.download"></script>
<link rel="https://api.w.org/" href="http://www.cerebralmeltdown.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.cerebralmeltdown.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.cerebralmeltdown.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.4.8">
<link rel="canonical" href="http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/">
<link rel="shortlink" href="http://www.cerebralmeltdown.com/?p=2573">
<link rel="alternate" type="application/json+oembed" href="http://www.cerebralmeltdown.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cerebralmeltdown.com%2Fprogramming_projects%2Fruby-code-for-calculating-the-suns-position%2F">
<link rel="alternate" type="text/xml+oembed" href="http://www.cerebralmeltdown.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cerebralmeltdown.com%2Fprogramming_projects%2Fruby-code-for-calculating-the-suns-position%2F&amp;format=xml">
<!-- CataBlog 1.6.6 LightBox Styles | http://catablog.illproductions.com/ -->
<style type="text/css">
  .catablog-row {min-height:120px; height:auto !important; height:120px;} .catablog-image {width:120px;} .catablog-title {margin:0 0 0 130px !important;} .catablog-description {margin:0 0 0 130px; !important} .catablog-images-column {width:120px;}  .catablog-gallery.catablog-row {width:120px; height:120px;} .catablog-gallery.catablog-row .catablog-image {width:120px; height:120px;} .catablog-gallery.catablog-row .catablog-image img {width:120px; height:120px;} .catablog-gallery.catablog-row .catablog-title {width:110px;}
</style>
				</head>
				
	<body class="page page-id-2573 page-child parent-pageid-56 page-template-default tc-fade-hover-links tc-l-sidebar tc-sticky-header tc-transparent-on-scroll no-navbar skin-green2 tc-regular-menu chrome tc-smoothscroll sticky-enabled" itemscope="" itemtype="http://schema.org/WebPage">

    
    <div id="tc-page-wrap" class="">

  		
  	   	<header class="tc-header clearfix row-fluid tc-tagline-off tc-title-logo-on  tc-shrink-on tc-menu-on logo-left tc-second-menu-in-sn-before-when-mobile" role="banner" style="height: auto; top: 0px;">
  			      <div class="brand span3 pull-left ">

        <h1><a class="site-title" href="http://www.cerebralmeltdown.com/" title="Cerebral Meltdown | ">Cerebral Meltdown</a></h1>
      </div> <!-- brand span3 pull-left -->
      <div class="container outside"><h2 class="site-description"></h2></div>      	<div class="navbar-wrapper clearfix span9 tc-submenu-fade tc-submenu-move tc-open-on-hover pull-menu-left">
        	<div class="navbar resp">
          		<div class="navbar-inner" role="navigation">
            		<div class="row-fluid">
              		<h2 class="span7 inside site-description"></h2><div class="nav-collapse collapse tc-hover-menu-wrapper"><div class="menu-menu-1-container"><ul id="menu-menu-3" class="nav tc-hover-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-4414"><a href="http://www.cerebralmeltdown.com/">Home</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4465"><a href="http://cerebralmeltdown.com/shop">Store</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4466"><a href="http://www.cerebralmeltdown.com/forum">Forum</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4476"><a href="http://www.cerebralmeltdown.com/open-sun-harvesting-project">The Open Sun Harvesting Project</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4477"><a href="http://www.cerebralmeltdown.com/cncstuff/index.htm">CNC Projects</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4487"><a href="https://www.youtube.com/user/gpm4985">YouTube Channel</a></li>
</ul></div></div><div class="btn-toggle-nav pull-right"><button type="button" class="btn menu-btn" data-toggle="collapse" data-target=".nav-collapse" title="Open the menu"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span> </button></div>          			</div><!-- /.row-fluid -->
          		</div><!-- /.navbar-inner -->
        	</div><!-- /.navbar resp -->
      	</div><!-- /.navbar-wrapper -->
    	  		</header>
  		<div id="tc-reset-margin-top" class="container-fluid" style="margin-top: 50px;"></div><div id="main-wrapper" class="container">

    <div class="tc-hot-crumble container" role="navigation"><div class="row"><div class="span12"><div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb"><span class="trail-begin"><a href="http://www.cerebralmeltdown.com/" title="Cerebral Meltdown" rel="home" class="trail-begin">Home</a></span> <span class="sep">»</span> <a href="http://www.cerebralmeltdown.com/programming_projects/" title="Programming Projects">Programming Projects</a> <span class="sep">»</span> <span class="trail-end">Ruby Code for Calculating the Sun’s Position</span></div></div></div></div>
    <div class="container" role="main">
        <div class="row column-content-wrapper">

            
        <div class="span3 left tc-sidebar">
           <div id="left" class="widget-area" role="complementary">
              <aside id="search-4" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://www.cerebralmeltdown.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></aside><aside id="text-10" class="widget widget_text">			<div class="textwidget"><script async="" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/adsbygoogle.js.download"></script>
<!-- Upper Left Responsive Ad -->
<ins class="adsbygoogle" style="display: block; height: 600px;" data-ad-client="ca-pub-0904105966669212" data-ad-slot="6803594742" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:264px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:264px;background-color:transparent"><iframe width="264" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</aside><aside id="text-18" class="widget widget_text">			<div class="textwidget"><div align="center">
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="5S2FA6NN63H28">
<input type="image" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/pixel.gif" width="1" height="1">
</form>
</div></div>
		</aside><aside id="text-19" class="widget widget_text">			<div class="textwidget">			
		    <p style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;">
			&nbsp;</p>
			<p style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;">
			<span style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;">
			<a style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;" href="http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/about-contact">About / 
			Contact </a>
			<a href="http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/privacy/default.htm" style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;"><br>
			Privacy Policy</a><a href="http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/privacy/default.htm" style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;">
			<br> </a>  </span>
			<a style="font-family:Times New Roman, Times, serif; font-size: 12pt; margin:0;padding:0; text-align: center;" href="http://www.cerebralmeltdown.com/programming_projects/ruby-code-for-calculating-the-suns-position/disclaimer/default.htm">Disclaimer</a>
			</p>
<p></p>
</div>
		</aside><aside id="text-20" class="widget widget_text">			<div class="textwidget">	
<p style=" text-align: center; margin:0;padding:0;">
			
			<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/">
			<img alt="Creative Commons License" style="border-width:0" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/somerights20.png"></a><br>
			
			<span style="font-family: Arial, Helvetica, sans-serif; font-size: x-small; text-align: center; color: #000000; line-height: 1em;">This work is licensed under a  
			<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/">
			<u>Creative Commons 
			Attribution-Noncommercial-Share Alike 3.0 United States License</u></a><span style="font-family: Arial, Helvetica, sans-serif; font-size: x-small; text-align: center; line-height: 1em;">.
			</span></span>

			</p></div>
		</aside>		<aside id="recent-posts-3" class="widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="http://www.cerebralmeltdown.com/2015/10/22/davids-heliostat-project/">David’s Heliostat Project</a>
						</li>
					<li>
				<a href="http://www.cerebralmeltdown.com/2015/09/02/mini-update-to-the-arduino-sun-harvester-program-and-ideas-for-future-updates/">Mini Update to the Arduino Sun Harvester Program and Ideas for Future Updates</a>
						</li>
					<li>
				<a href="http://www.cerebralmeltdown.com/2015/08/05/cerebral-meltdown-website-redesigned/">Cerebral Meltdown Redesigned!</a>
						</li>
					<li>
				<a href="http://www.cerebralmeltdown.com/2015/04/16/bug-in-arduino-sun-harvester-program/">Bug in Arduino Sun Harvester Program</a>
						</li>
					<li>
				<a href="http://www.cerebralmeltdown.com/2015/02/18/logan-becks-a-description-of-the-sun/">Logan Beck’s A Description of the Sun</a>
						</li>
				</ul>
		</aside>		<aside id="text-21" class="widget widget_text">			<div class="textwidget"><script type="text/javascript"><!--
amazon_ad_tag = "cerebralmeltd-20"; amazon_ad_width = "160"; amazon_ad_height = "600";//--></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ads.js.download"></script><script src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ads-common.js.download" type="text/javascript"></script><iframe src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/cm.html" marginwidth="0" marginheight="0" width="160" height="600" border="0" frameborder="0" style="border:none;" scrolling="no"></iframe></div>
		</aside>            </div><!-- //#left or //#right -->
        </div><!--.tc-sidebar -->

        
                <div id="content" class="span9 article-container tc-gallery-style">

                    
                        
                                                                                    
                                                                    <article id="page-2573" class="row-fluid post-2573 page type-page status-publish hentry hover">
                                                <header class="entry-header">
          <h1 class="entry-title ">Ruby Code for Calculating the Sun’s Position</h1><hr class="featurette-divider __before_content">        </header>
        
        <div class="entry-content">
          <p align="right">
<a href="http://feeds.feedburner.com/Cerebralmeltdown" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/04.png" class="grouped_elements" rel="tc-fancybox-group2573" alt="" style="border:0"></a><a href="http://feeds.feedburner.com/Cerebralmeltdown" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"> Subscribe to my Feed!</a>
</p>

<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-0904105966669212";
/* 468x15, created 5/20/09 */
google_ad_slot = "5243699082";
google_ad_width = 468;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/show_ads.js.download">
</script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><iframe width="468" height="15" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/saved_resource(1).html"></iframe></ins></ins>
</div>
<p></p>
<p>Here is a Ruby program that calculates the altitude and azimuth of the sun along with several other values along the way. According to the book from which these calculations were found, the accuracy should be within 0.01 degree, assuming, of course, I made no mistakes. Overall though, I have found the output of this program matches that which is in the book and also the output of other similar programs.</p>
<p>I use this program frequently when developing my various <a href="http://www.cerebralmeltdown.com/projects/">solar projects</a> and heliostat projects, and have found it to be quite useful.</p>
<p>The calculations were taken from the book <a href="http://www.amazon.com/gp/product/0943396611?ie=UTF8&amp;tag=cerebralmeltd-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0943396611">Astronomical Algorithms</a><img src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ir" border="0" alt="" width="1" height="1"> by Jean Meeus. It’s a good book to have a copy of if you’re into math, programming, astronomy, or just science stuff in general.</p>
<p>You can either copy and paste the code below (which doesn’t really fit on this page) or you can download it by clicking the link <a href="http://www.cerebralmeltdown.com/bit/SunAltAzCalc.rb">SunAltAzCalc.rb</a></p>
<pre lang="ruby">

##############
latitude   = 12.34
longitude = -12.34
timezone = -5
##############


##############
# Go to http://www.cerebralmeltdown.com for the original location of this program
#Sources used for this program
# Meeus, Jean. Astronomical Algorithms. 2nd ed. Willmann-Bell, Inc, 2005.
##################


class Numeric
    #Degrees to radians.
    def to_rad
        self * Math::PI / 180.0
    end
    #Radians to degrees.
    def to_deg
        self * 180.0 / Math::PI
    end
end
 class Float
    alias_method :round_orig, :round
    def round(n=0)
        (self * (10.0 ** n)).round_orig * (10.0 ** (-n))
    end
end  

#Longitude in Hours
longitude = (longitude*-1)/15

######################
# Begin Julian Day Calculation (Meeus Pages 59-61) vvvv
t= Time.now
y = t.gmtime.year
m = t.gmtime.month
d = t.gmtime.day + t.gmtime.hour/24.to_f + t.gmtime.min/1440.to_f + t.gmtime.sec/86400.to_f
if m &gt; 2
  y=y
  m=m
   else
  y = y-1
  m = m+12
      end
a = (y/100).to_int
b = 2 - a + (a/4).to_int
jd = (365.25 * (y+4716)).to_int + (30.6001 * (m+1)).to_int + d + b + -1524.5
# End Julian Day Calculation^^^^
######################


################
# (Meeus Pages 163-164) vvv
#Time in Julian Centuries
t = ((jd - 2451545.0)/36525.0)
#Mean equinox of the date
l = 280.46645 + 36000.76983*t + 0.0003032*t**2
#Mean Anomaly of the Sun 
m = 357.52910 + 35999.05030 *t - 0.0001559 *t**2 - 0.00000048*t**3
#Eccentricity of the Earth's Orbit
e = 0.016708617 - 0.000042037*t - 0.0000001236*t**2
# Sun's Equation of the center
c = (1.914600 - 0.004817 *t - 0.000014 * t**2) * Math.sin(m.to_rad) + (0.019993 - 0.000101*t) * Math.sin(2*m.to_rad) + 0.000290*Math.sin(3*m.to_rad)
#Sun's True Longitude
o = l +c
#Brings 'o' within + or - 360 degrees. (Taking an inverse function of very large numbers can sometimes lead to slight errors in output)
o=o.divmod(360)[1]
################

###############
#(Meeus Page 164)
#Sun's Apparant Longitude (The Output of Lambda)
omega = 125.04 - 1934.136*t
lambda = o - 0.00569 - 0.00478 * Math.sin(omega.to_rad)
#Brings 'lambda' within + or - 360 degrees. (Taking an inverse function of very large numbers can sometimes lead to slight errors in output)
lambda = lambda.divmod(360)[1]
###############


#Obliquity of the Ecliptic (Meeus page 147) (numbers switched from degree minute second in book to decimal degree)
epsilon = (23.4392966666667 - 0.012777777777777778*t - 0.00059/60.to_f * t**2 + 0.00059/60.to_f * t**3) + (0.00256 * Math.cos(omega.to_rad))

#Sun's Declination (Meeus page 165)
delta = Math.asin(Math.sin(epsilon.to_rad)*Math.sin(lambda.to_rad)).to_deg

#Sun's Right Acension (Meeus page 165) (divided by 15 to convert to hours)
alpha =Math.atan2(((Math.cos(epsilon.to_rad) * Math.sin(lambda.to_rad))),(Math.cos(lambda.to_rad))).to_deg/15
if alpha &lt; 0
  alpha = alpha + 24
  end

#Sidereal Time (Meeus Page 88)
theta = (280.46061837 + 360.98564736629 * (jd-2451545.0) + 0.000387933*t**2 - ((t**3)/38710000))/15.to_f
#Brings 'theta' within + or - 360 degrees. (Taking an inverse function of very large numbers can sometimes lead to slight errors in output)
theta = theta.divmod(360)[1]


#The Local Hour Angle (Meeus Page 92) (multiplied by 15 to convert to degrees)
h = (theta - longitude - alpha)*15
#Brings 'h' within + or - 360 degrees. (Taking an inverse function of very large numbers can sometimes lead to slight errors in output)
h =h.divmod(360)[1]


############
#Local Horizontal Coordinates (Meeus Page 93)
#Altitude
altitude = Math.asin(Math.sin(latitude.to_rad)*Math.sin(delta.to_rad) + Math.cos(latitude.to_rad)*Math.cos(delta.to_rad)*Math.cos(h.to_rad)).to_deg
#Azimuth
azimuth = Math.atan2((Math.sin(h.to_rad)),((Math.cos(h.to_rad) * Math.sin(latitude.to_rad)) - Math.tan(delta.to_rad) * Math.cos(latitude.to_rad))).to_deg
############


puts '~~~~~~~~~~~'
puts altitude
puts azimuth

</pre>
<p align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-0904105966669212";
/* 468x15, created 5/20/11 */
google_ad_slot = "0817102075";
google_ad_width = 468;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/show_ads.js.download">
</script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><iframe width="468" height="15" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/saved_resource(2).html"></iframe></ins></ins>
</p>
<p align="right">
<a href="http://feeds.feedburner.com/Cerebralmeltdown" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/04.png" class="grouped_elements" rel="tc-fancybox-group2573" alt="" style="border:0"></a><a href="http://feeds.feedburner.com/Cerebralmeltdown" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"> Subscribe to my Feed!</a>
</p>
<p align="center">
<script type="text/javascript"><!--
amazon_ad_tag = "cerebralmeltd-20"; amazon_ad_width = "468"; amazon_ad_height = "60";//--></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ads.js(1).download"></script><script src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ads-common.js.download" type="text/javascript"></script><iframe src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/cm(1).html" marginwidth="0" marginheight="0" width="468" height="60" border="0" frameborder="0" style="border:none;" scrolling="no"></iframe>
</p>        </div>

                                            </article>
                                
                            
                        
                    
                </div><!--.article-container -->

           
        </div><!--.row -->
    </div><!-- .container role: main -->

    
</div><!-- //#main-wrapper -->

  		<!-- FOOTER -->
  		<footer id="footer" class="">
  		 					<div class="container footer-widgets ">
                    <div class="row widget-area" role="complementary">
												
							<div id="footer_one" class="span4">
																															</div><!-- .{$key}_widget_class -->

						
							<div id="footer_two" class="span4">
																
										<aside id="text-17" class="widget widget_text">			<div class="textwidget"><script type="text/javascript"><!--
amazon_ad_tag = "cerebralmeltd-20"; amazon_ad_width = "600"; amazon_ad_height = "520";//--></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ads.js.download"></script><script src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/ads-common.js.download" type="text/javascript"></script><iframe src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/cm(2).html" marginwidth="0" marginheight="0" width="600" height="520" border="0" frameborder="0" style="border:none;" scrolling="no"></iframe></div>
		</aside>
																							</div><!-- .{$key}_widget_class -->

						
							<div id="footer_three" class="span4">
																															</div><!-- .{$key}_widget_class -->

																	</div><!-- .row.widget-area -->
				</div><!--.footer-widgets -->
				    				 <div class="colophon">
			 	<div class="container">
			 		<div class="row-fluid">
					    <div class="span3 social-block pull-left"></div><div class="span6 credits"><p>· <span class="tc-copyright-text">© 2017</span> <a href="http://www.cerebralmeltdown.com/" title="Cerebral Meltdown" rel="bookmark">Cerebral Meltdown</a> · <span class="tc-credits-text">Designed by</span> <a href="http://presscustomizr.com/">Press Customizr</a> · <span class="tc-wp-powered-text">Powered by</span> <a class="icon-wordpress" target="_blank" href="https://wordpress.org/" title="Powered by Wordpress"></a> ·</p></div>	      			</div><!-- .row-fluid -->
	      		</div><!-- .container -->
	      	</div><!-- .colophon -->
	    	  		</footer>
    </div><!-- //#tc-page-wrapper -->
		<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/comment-reply.min.js.download"></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/core.min.js.download"></script>
<script type="text/javascript" src="./Ruby Code for Calculating the Sun’s Position – Cerebral Meltdown_files/wp-embed.min.js.download"></script>
<div class="tc-btt-wrapper show"><i class="btt-arrow"></i></div>	
	<div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div></body></html>